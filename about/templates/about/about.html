{% extends 'base.html' %}
{% load static %}

{% block title %}Quiénes Somos | LE WORK Constructora{% endblock %}

{% block content %}

    {# UI Change: Clase para hero de About Us #}
    <section class="hero-section about-hero">
        <div class="hero-content">
            <h1>{% if about_us %}{{ about_us.title }}{% else %}Nuestra Historia, Nuestro Compromiso.{% endif %}</h1>
        </div>
    </section>

    {# UI Change: Clase para la sección principal de About Us, alineada con el CSS #}
    <section class="about-us-section section-spacing">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h2 class="section-title">¿Quiénes Somos?</h2> {# UI Change: Añadida clase section-title #}
                    <p>{% if main_content %}{{ main_content|linebreaksbr }}{% else %}No hay contenido principal para la sección Quiénes Somos.{% endif %}</p>
                </div>
            </div>

            {# UI Change: Nueva estructura para Misión, Visión, Valores en una fila #}
            <div class="row mission-vision-values">
                <div class="col-md-4 mb-4"> {# UI Change: Añadida mb-4 para espaciado en móviles/tabletas #}
                    <div class="about-mission"> {# UI Change: Nueva clase para la tarjeta de misión #}
                        <h2>Misión</h2>
                        <p>{% if mission %}{{ mission|linebreaksbr }}{% else %}No hay misión configurada.{% endif %}</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="about-vision"> {# UI Change: Nueva clase para la tarjeta de visión #}
                        <h2>Visión</h2>
                        <p>{% if vision %}{{ vision|linebreaksbr }}{% else %}No hay visión configurada.{% endif %}</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="about-values"> {# UI Change: Nueva clase para la tarjeta de valores #}
                        <h2>Valores</h2>
                        <ul>
                            {% for value in values %}
                                <li>
                                    {% if value.icon %}
                                        <img src="{{ value.icon.url }}" alt="{{ value.name }} Icon" class="value-icon"> {# UI Change: Clase value-icon para el tamaño de la imagen #}
                                    {% else %}
                                        {# Opción para un ícono genérico si no hay imagen (ej. FontAwesome) #}
                                        <i class="fas fa-check-circle"></i> {# UI Change: Usar Font Awesome directamente #}
                                    {% endif %}
                                    {{ value.name }}
                                </li>
                            {% empty %}
                                <li>No hay valores configurados.</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

            {# UI Change: Sección de Equipo con clase team-section para el fondo si es necesario, y team-members para el grid #}
            <div class="row">
                <div class="col-md-12">
                    <h2 class="section-title">El Equipo</h2> {# UI Change: Añadida clase section-title #}
                    <div class="team-members">
                        {% for member in team_members %}
                            <div class="team-member"> {# UI Change: Nueva clase para cada miembro del equipo #}
                                {% if member.image %}
                                    <img src="{{ member.image.url }}" alt="{{ member.name }}" class="team-member-image"> {# UI Change: Nueva clase para la imagen #}
                                {% else %}
                                    {# Placeholder si no hay imagen de miembro #}
                                    <img src="{% static 'core/img/team_placeholder.jpg' %}" alt="Imagen de equipo no disponible" class="team-member-image"> {# UI Change: Usar placeholder #}
                                {% endif %}
                                <h3>{{ member.name }}</h3>
                                <p>{{ member.title }}</p>
                                {% if member.bio %}
                                    <p class="member-bio">{{ member.bio|truncatechars:100 }}</p> {# UI Change: Clase para la bio si se quiere un estilo diferente #}
                                {% endif %}
                            </div>
                        {% empty %}
                            <p class="col-12 text-center">No hay miembros del equipo configurados.</p> {# UI Change: Añadido clase para centrar el texto #}
                        {% endfor %}
                    </div>
                </div>
            </div>

            {# UI Change: Sección de Testimonios con clase testimonials-container para el grid #}
            <div class="row">
                <div class="col-md-12">
                    <h2 class="section-title">Testimonios</h2> {# UI Change: Añadida clase section-title #}
                    <div class="testimonials-container">
                        {% for testimonial in testimonials %}
                            <div class="testimonial"> {# UI Change: Nueva clase para cada testimonio #}
                                {% if testimonial.image %}
                                    <img src="{{ testimonial.image.url }}" alt="{{ testimonial.client_name }}" class="testimonial-image"> {# UI Change: Nueva clase para la imagen del testimonio #}
                                {% endif %}
                                <p>"{{ testimonial.content|linebreaksbr }}"</p>
                                <p class="testimonial-author">— {{ testimonial.client_name }}</p> {# UI Change: Nueva clase para el autor #}
                            </div>
                        {% empty %}
                            <p class="col-12 text-center">No hay testimonios configurados para esta sección.</p> {# UI Change: Añadido clase para centrar el texto #}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}